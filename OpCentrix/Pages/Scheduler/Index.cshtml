@* Index.cshtml: *@
@page
@model IndexModel
@{
    ViewData["Title"] = "Scheduler";
}

<div class="space-y-6 px-4 font-sans">
    <div class="text-2xl font-bold text-gray-800">🗓️ OpCentrix Scheduler</div>

    <div class="grid grid-cols-8 gap-1 text-sm font-medium mb-2">
        <div class=""></div>
        @foreach (var d in Model.ViewModel.Dates)
        {
            <div class="text-center">@DateTime.Parse(d).ToString("ddd MM/dd")</div>
        }
    </div>

    <div id="schedulerBody" class="space-y-2">
        @foreach (var machine in Model.ViewModel.Machines)
        {
            <div class="grid grid-cols-8 gap-1 items-start">
                <div class="font-semibold">@machine.Name</div>
                @await Html.PartialAsync("_MachineRow", machine, new ViewDataDictionary(ViewData){["StartOfWeek"] = Model.ViewModel.StartOfWeek})
            </div>
        }
    </div>
</div>

<div id="modalContainer"></div>

@section Scripts {
    <script src="https://unpkg.com/htmx.org@1.9.4"></script>
}

